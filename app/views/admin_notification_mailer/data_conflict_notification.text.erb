DATA CONFLICTS DETECTED
========================

Timestamp: <%= @timestamp.strftime("%B %d, %Y at %I:%M %p %Z") %>
Job Duration: <%= "%.2f" % @job_duration %> seconds

SUMMARY
-------
Total Conflicts: <%= @summary[:total_conflicts] %>
Resolved Automatically: <%= @summary[:resolved_automatically] %>
Requires Manual Review: <%= @summary[:requires_manual_review] %>

<% if @summary[:conflicts_by_type] %>
Conflicts by Type:
<% @summary[:conflicts_by_type].each do |type, count| %>
- <%= type.humanize %>: <%= count %>
<% end %>
<% end %>

CONFLICT DETAILS
================

<% @conflicts.each_with_index do |conflict, index| %>
Conflict #<%= index + 1 %>: <%= conflict[:type].humanize %>
Address: <%= conflict[:address] || "House ID: #{conflict[:house_id]}" %>
PCPA UID: <%= conflict[:pcpa_uid] %>
Resolution: <%= conflict[:resolution].humanize %>
Timestamp: <%= conflict[:timestamp].strftime("%I:%M:%S %p") %>

<% case conflict[:type] %>
<% when 'address_change' %>
Address Change:
  Old: <%= conflict[:old_address] %>
  New: <%= conflict[:new_address] %>
<% when 'coordinate_change' %>
Coordinate Change:
  Old: <%= conflict[:old_coordinates][:lat] %>, <%= conflict[:old_coordinates][:lng] %>
  New: <%= conflict[:new_coordinates][:lat] %>, <%= conflict[:new_coordinates][:lng] %>
  Distance Moved: <%= "%.1f" % conflict[:distance_moved] %> meters
<% when 'ownership_change' %>
Ownership Change:
  Old: <%= conflict[:old_owners].join(", ") %>
  New: <%= conflict[:new_owners].join(", ") %>
<% end %>

---

<% end %>

This email was automatically generated by the Property Data Import Job.
For questions or concerns, please contact the development team.