<div data-controller="map" class="relative w-full h-full"
     data-map-current-user-id="<%= current_user.id %>">
  <!-- Filter Controls -->
  <div id="map-search" class="absolute top-4 left-4 z-50 bg-white/90 backdrop-blur-sm rounded-lg shadow p-4">
    <input type="text" placeholder="Search address or resident nameâ€¦" data-map-target="searchInput" data-action="input->map#applySearch" class="w-64 border-gray-300 border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400" />
    <div class="mt-2">
      <label class="text-sm font-medium inline-flex items-center gap-2">
        <input type="checkbox" data-map-target="newResidentsToggle" data-action="change->map#updateHighlight" class="rounded" />
        New residents (30 days)
      </label>
    </div>
  </div>

  <!-- Map Container -->
  <div data-map-target="canvas" class="map-fullscreen"></div>

  <!-- Modal Container -->
  <div data-map-target="modal"
    role="dialog"
    aria-modal="true"
    class="fixed top-0 right-0 h-screen w-full md:w-1/3 md:max-w-xl bg-white shadow-2xl p-8 md:rounded-bl-lg transition-width duration-300 overflow-y-auto max-h-screen"
    style="display:none; z-index:2000;"></div>
</div>
